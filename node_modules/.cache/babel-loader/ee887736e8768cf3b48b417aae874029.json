{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\projectapp\\\\src\\\\components\\\\MainStatusPage.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport \"./MainStatusPage.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport Button from \"react-bootstrap/Button\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { ProgressBar } from \"react-bootstrap\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst accessToken = localStorage.getItem('myToken');\naxios.interceptors.request.use(config => {\n  config.headers.authorization = `Bearer ${accessToken}`;\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\nconst endPoint = \"https://ecourse.cpe.ku.ac.th/exceed07/api/get_sensor\";\n\nconst MainStatusPage = () => {\n  _s();\n\n  const [sensorData, setSensorData] = React.useState({\n    water_level: \"0\",\n    gas: \"0\",\n    smoke: \"0\",\n    flame: \"0\",\n    shake: \"0\",\n    wind: \"0\"\n  });\n  const now = 8;\n  let myInterval;\n  React.useEffect(() => {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    myInterval = setInterval(() => UpdateSensor(accessToken), 1000);\n  });\n\n  const UpdateSensor = async myToken => {\n    // let response = await fetch(\"https://ecourse.cpe.ku.ac.th/exceed07/api/get_sensor\",{\n    //   method: 'GET',\n    //   headers:{\n    //       \"Content-Type\": \"application/JSON\",\n    //       \"Authorization\": `bearer ${myToken}`\n    //   }\n    // })\n    // response = await response.json()\n    // console.log(response)\n    let response = await axios.get(endPoint);\n    console.log(response);\n  };\n\n  const navigate = useNavigate();\n\n  const onButtonClick = () => {\n    clearInterval(myInterval);\n    navigate(\"/backtologin\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"welcome-box\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Welcome back, \", localStorage.getItem(\"currentUser\"), \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-page-sensor\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sensor-box\",\n        children: [/*#__PURE__*/_jsxDEV(ProgressBar, {\n          variant: \"success\",\n          now: now,\n          label: `${now}%`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Water Level:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Danger Level:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sensor-box\",\n        children: [/*#__PURE__*/_jsxDEV(ProgressBar, {\n          variant: \"success\",\n          now: now,\n          label: `${now}%`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Gas:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Danger Level:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sensor-box\",\n        children: [/*#__PURE__*/_jsxDEV(ProgressBar, {\n          variant: \"success\",\n          now: now,\n          label: `${now}%`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Smoke:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Danger Level:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sensor-box\",\n        children: [/*#__PURE__*/_jsxDEV(ProgressBar, {\n          variant: \"success\",\n          now: now,\n          label: `${now}%`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Flame:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Danger Level:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sensor-box\",\n        children: [/*#__PURE__*/_jsxDEV(ProgressBar, {\n          variant: \"success\",\n          now: now,\n          label: `${now}%`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Shake:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Danger Level:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sensor-box\",\n        children: [/*#__PURE__*/_jsxDEV(ProgressBar, {\n          variant: \"success\",\n          now: now,\n          label: `${now}%`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Wind:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Danger Level:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logout-button-box\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          id: \"logout-button\",\n          variant: \"primary\",\n          type: \"submit\",\n          size: \"lg\",\n          variant: \"danger\",\n          onClick: onButtonClick,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MainStatusPage, \"AJs/osv6PIU4+Zr13Mxm4dVSL1U=\", false, function () {\n  return [useNavigate];\n});\n\n_c = MainStatusPage;\nexport default MainStatusPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainStatusPage\");","map":{"version":3,"sources":["C:/Users/user/Desktop/projectapp/src/components/MainStatusPage.js"],"names":["React","useNavigate","Button","ProgressBar","axios","accessToken","localStorage","getItem","interceptors","request","use","config","headers","authorization","error","Promise","reject","endPoint","MainStatusPage","sensorData","setSensorData","useState","water_level","gas","smoke","flame","shake","wind","now","myInterval","useEffect","setInterval","UpdateSensor","myToken","response","get","console","log","navigate","onButtonClick","clearInterval"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,sBAAP;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAO,sCAAP;AACA,SAASC,WAAT,QAA4B,iBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAApB;AACAH,KAAK,CAACI,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACEC,MAAM,IAAI;AACRA,EAAAA,MAAM,CAACC,OAAP,CAAeC,aAAf,GAAgC,UAASR,WAAY,EAArD;AACA,SAAOM,MAAP;AACD,CAJH,EAKEG,KAAK,IAAG;AACN,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CAPH;AASA,MAAMG,QAAQ,GAAG,sDAAjB;;AAEA,MAAMC,cAAc,GAAG,MAAM;AAAA;;AAC3B,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BpB,KAAK,CAACqB,QAAN,CAAe;AACjDC,IAAAA,WAAW,EAAE,GADoC;AAEjDC,IAAAA,GAAG,EAAE,GAF4C;AAGjDC,IAAAA,KAAK,EAAE,GAH0C;AAIjDC,IAAAA,KAAK,EAAE,GAJ0C;AAKjDC,IAAAA,KAAK,EAAE,GAL0C;AAMjDC,IAAAA,IAAI,EAAE;AAN2C,GAAf,CAApC;AASA,QAAMC,GAAG,GAAG,CAAZ;AACA,MAAIC,UAAJ;AACA7B,EAAAA,KAAK,CAAC8B,SAAN,CAAgB,MAAM;AACpB;AACAD,IAAAA,UAAU,GAAGE,WAAW,CAAC,MAAMC,YAAY,CAAC3B,WAAD,CAAnB,EAAkC,IAAlC,CAAxB;AACD,GAHD;;AAKA,QAAM2B,YAAY,GAAG,MAAOC,OAAP,IAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAIC,QAAQ,GAAG,MAAM9B,KAAK,CAAC+B,GAAN,CAAUlB,QAAV,CAArB;AACAmB,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACD,GAZD;;AAcA,QAAMI,QAAQ,GAAGrC,WAAW,EAA5B;;AAEA,QAAMsC,aAAa,GAAG,MAAM;AAC1BC,IAAAA,aAAa,CAACX,UAAD,CAAb;AACAS,IAAAA,QAAQ,CAAC,cAAD,CAAR;AACD,GAHD;;AAKA,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,4BACE;AAAK,MAAA,KAAK,EAAC,aAAX;AAAA,6BACE;AAAA,qCAAmBhC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAIE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE,QAAC,WAAD;AAAa,UAAA,OAAO,EAAC,SAArB;AAA+B,UAAA,GAAG,EAAEqB,GAApC;AAAyC,UAAA,KAAK,EAAG,GAAEA,GAAI;AAAvD;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAME;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE,QAAC,WAAD;AAAa,UAAA,OAAO,EAAC,SAArB;AAA+B,UAAA,GAAG,EAAEA,GAApC;AAAyC,UAAA,KAAK,EAAG,GAAEA,GAAI;AAAvD;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,eAWE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE,QAAC,WAAD;AAAa,UAAA,OAAO,EAAC,SAArB;AAA+B,UAAA,GAAG,EAAEA,GAApC;AAAyC,UAAA,KAAK,EAAG,GAAEA,GAAI;AAAvD;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cAXF,eAgBE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE,QAAC,WAAD;AAAa,UAAA,OAAO,EAAC,SAArB;AAA+B,UAAA,GAAG,EAAEA,GAApC;AAAyC,UAAA,KAAK,EAAG,GAAEA,GAAI;AAAvD;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBF,eAqBE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE,QAAC,WAAD;AAAa,UAAA,OAAO,EAAC,SAArB;AAA+B,UAAA,GAAG,EAAEA,GAApC;AAAyC,UAAA,KAAK,EAAG,GAAEA,GAAI;AAAvD;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cArBF,eA0BE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE,QAAC,WAAD;AAAa,UAAA,OAAO,EAAC,SAArB;AAA+B,UAAA,GAAG,EAAEA,GAApC;AAAyC,UAAA,KAAK,EAAG,GAAEA,GAAI;AAAvD;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cA1BF,eAgCE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,+BACE,QAAC,MAAD;AACE,UAAA,EAAE,EAAC,eADL;AAEE,UAAA,OAAO,EAAC,SAFV;AAGE,UAAA,IAAI,EAAC,QAHP;AAIE,UAAA,IAAI,EAAC,IAJP;AAKE,UAAA,OAAO,EAAC,QALV;AAME,UAAA,OAAO,EAAEW,aANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAhCF;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAoDD,CA1FD;;GAAMrB,c;UA+BajB,W;;;KA/BbiB,c;AA4FN,eAAeA,cAAf","sourcesContent":["import React from \"react\";\r\nimport \"./MainStatusPage.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { ProgressBar } from \"react-bootstrap\";\r\nimport axios from 'axios'\r\n\r\nconst accessToken = localStorage.getItem('myToken')\r\naxios.interceptors.request.use(\r\n  config => {\r\n    config.headers.authorization = `Bearer ${accessToken}`\r\n    return config;\r\n  },\r\n  error =>{\r\n    return Promise.reject(error);\r\n  }\r\n)\r\nconst endPoint = \"https://ecourse.cpe.ku.ac.th/exceed07/api/get_sensor\"\r\n\r\nconst MainStatusPage = () => {\r\n  const [sensorData, setSensorData] = React.useState({\r\n    water_level: \"0\",\r\n    gas: \"0\",\r\n    smoke: \"0\",\r\n    flame: \"0\",\r\n    shake: \"0\",\r\n    wind: \"0\",\r\n  });\r\n\r\n  const now = 8;\r\n  let myInterval;\r\n  React.useEffect(() => {\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    myInterval = setInterval(() => UpdateSensor(accessToken), 1000);\r\n  });\r\n  \r\n  const UpdateSensor = async (myToken) => {\r\n    // let response = await fetch(\"https://ecourse.cpe.ku.ac.th/exceed07/api/get_sensor\",{\r\n    //   method: 'GET',\r\n    //   headers:{\r\n    //       \"Content-Type\": \"application/JSON\",\r\n    //       \"Authorization\": `bearer ${myToken}`\r\n    //   }\r\n    // })\r\n    // response = await response.json()\r\n    // console.log(response)\r\n    let response = await axios.get(endPoint)\r\n    console.log(response);\r\n  }\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const onButtonClick = () => {\r\n    clearInterval(myInterval)\r\n    navigate(\"/backtologin\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"main-page\">\r\n      <div class=\"welcome-box\">\r\n        <h2>Welcome back, {localStorage.getItem(\"currentUser\")}!</h2>\r\n      </div>\r\n      <div className=\"main-page-sensor\">\r\n        <div className=\"sensor-box\">\r\n          <ProgressBar variant=\"success\" now={now} label={`${now}%`} />\r\n          <p>Water Level:</p>\r\n          <p>Danger Level:</p>\r\n        </div>\r\n        <div className=\"sensor-box\">\r\n          <ProgressBar variant=\"success\" now={now} label={`${now}%`} />\r\n          <p>Gas:</p>\r\n          <p>Danger Level:</p>\r\n        </div>\r\n        <div className=\"sensor-box\">\r\n          <ProgressBar variant=\"success\" now={now} label={`${now}%`} />\r\n          <p>Smoke:</p>\r\n          <p>Danger Level:</p>\r\n        </div>\r\n        <div className=\"sensor-box\">\r\n          <ProgressBar variant=\"success\" now={now} label={`${now}%`} />\r\n          <p>Flame:</p>\r\n          <p>Danger Level:</p>\r\n        </div>\r\n        <div className=\"sensor-box\">\r\n          <ProgressBar variant=\"success\" now={now} label={`${now}%`} />\r\n          <p>Shake:</p>\r\n          <p>Danger Level:</p>\r\n        </div>\r\n        <div className=\"sensor-box\">\r\n          <ProgressBar variant=\"success\" now={now} label={`${now}%`} />\r\n          <p>Wind:</p>\r\n          <p>Danger Level:</p>\r\n        </div>\r\n\r\n        <div className=\"logout-button-box\">\r\n          <Button\r\n            id=\"logout-button\"\r\n            variant=\"primary\"\r\n            type=\"submit\"\r\n            size=\"lg\"\r\n            variant=\"danger\"\r\n            onClick={onButtonClick}\r\n          >\r\n            Logout\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainStatusPage;\r\n"]},"metadata":{},"sourceType":"module"}